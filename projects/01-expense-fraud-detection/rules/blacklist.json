{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Blacklist Rules",
  "description": "MCC codes and patterns that are absolutely prohibited",
  "version": "1.0.0",
  "effective_from": "2025-01-01",
  "effective_until": null,

  "blacklist_mccs": [
    {
      "code": "7995",
      "category": "Betting/Casino Gambling",
      "description": "Gambling transactions including online betting, casinos, lotteries",
      "action": "BLOCK",
      "severity": "CRITICAL",
      "reason": "업무와 무관한 도박성 지출",
      "legal_reference": {
        "law": "법인세법",
        "article": "제27조",
        "description": "업무무관 비용 손금불산입",
        "url": "https://www.law.go.kr/lsLawLinkInfo.do?chrClsCd=010202&lsJoLnkSeq=900178234"
      },
      "network_reference": {
        "source": "VISA",
        "url": "https://usa.visa.com/dam/VCOM/download/merchants/visa-merchant-data-standards-manual.pdf",
        "section": "Merchant Category Codes"
      },
      "exception_conditions": []
    },
    {
      "code": "6051",
      "category": "Quasi-Cash",
      "description": "Non-Financial Institutions - Foreign Currency, Money Orders, Travelers Checks, Cryptocurrency",
      "action": "BLOCK",
      "severity": "CRITICAL",
      "reason": "현금성 자산 구매 금지 (횡령 리스크)",
      "legal_reference": {
        "law": "법인세법",
        "article": "제27조",
        "description": "업무무관 비용 손금불산입",
        "url": "https://www.law.go.kr/lsLawLinkInfo.do?chrClsCd=010202&lsJoLnkSeq=900178234"
      },
      "network_reference": {
        "source": "MASTERCARD",
        "url": "https://www.mastercard.us/content/dam/public/mastercardcom/na/global-site/documents/quick-reference-booklet-merchant.pdf",
        "section": "Quasi-Cash Transactions"
      },
      "exception_conditions": [
        {
          "condition": "PRE_APPROVED_BY_CFO",
          "description": "CFO 사전 승인 시 허용 (해외 출장 외화 환전)"
        }
      ]
    },
    {
      "code": "6010",
      "category": "Manual Cash Disbursements",
      "description": "Manual cash disbursement transactions",
      "action": "BLOCK",
      "severity": "CRITICAL",
      "reason": "수동 현금 지급 금지",
      "legal_reference": {
        "law": "법인세법",
        "article": "제27조",
        "description": "업무무관 비용 손금불산입",
        "url": "https://www.law.go.kr/lsLawLinkInfo.do?chrClsCd=010202&lsJoLnkSeq=900178234"
      },
      "network_reference": {
        "source": "MASTERCARD",
        "url": "https://www.mastercard.us/content/dam/public/mastercardcom/na/global-site/documents/transaction-processing-rules.pdf",
        "section": "Transaction Processing Rules"
      },
      "exception_conditions": []
    },
    {
      "code": "6011",
      "category": "ATM Cash Withdrawal",
      "description": "Automated Cash Disbursements",
      "action": "BLOCK",
      "severity": "CRITICAL",
      "reason": "ATM 현금 인출 금지",
      "legal_reference": {
        "law": "법인세법",
        "article": "제27조",
        "description": "업무무관 비용 손금불산입",
        "url": "https://www.law.go.kr/lsLawLinkInfo.do?chrClsCd=010202&lsJoLnkSeq=900178234"
      },
      "network_reference": {
        "source": "MASTERCARD",
        "url": "https://www.mastercard.us/content/dam/public/mastercardcom/na/global-site/documents/transaction-processing-rules.pdf",
        "section": "Transaction Processing Rules"
      },
      "exception_conditions": []
    }
  ],

  "blacklist_patterns": [
    {
      "pattern_id": "MULTIPLE_GAMBLING",
      "description": "도박 관련 MCC로 2회 이상 거래 시도",
      "conditions": [
        {
          "field": "mcc_code",
          "operator": "IN",
          "value": ["7995"]
        },
        {
          "field": "count",
          "operator": ">=",
          "value": 2,
          "timeframe": "30 days"
        }
      ],
      "action": "BLOCK_AND_ESCALATE",
      "escalation_target": "COMPLIANCE_TEAM",
      "severity": "CRITICAL"
    },
    {
      "pattern_id": "CASH_EQUIVALENT_LARGE",
      "description": "고액 현금성 거래 (100만원 이상)",
      "conditions": [
        {
          "field": "mcc_code",
          "operator": "IN",
          "value": ["6051", "6010", "6011"]
        },
        {
          "field": "amount",
          "operator": ">=",
          "value": 1000000,
          "currency": "KRW"
        }
      ],
      "action": "BLOCK_AND_ESCALATE",
      "escalation_target": "CFO",
      "severity": "CRITICAL"
    }
  ],

  "enforcement": {
    "real_time_blocking": true,
    "notification": {
      "notify_employee": true,
      "notify_manager": true,
      "notify_compliance": true,
      "template": "거래가 차단되었습니다. 사유: {reason}. 문의: compliance@company.com"
    },
    "override": {
      "allowed": false,
      "override_authority": ["CEO", "CFO"],
      "require_justification": true,
      "audit_log": true
    }
  },

  "monitoring": {
    "alert_on_attempt": true,
    "alert_threshold": {
      "attempts_per_day": 1,
      "attempts_per_month": 2
    },
    "report_frequency": "DAILY",
    "report_recipients": ["compliance@company.com", "finance@company.com"]
  }
}
